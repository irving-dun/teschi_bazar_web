<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vender Producto - TeschiBazar</title>

    <link href="https://fonts.googleapis.com/css2?family=Anton&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;800&display=swap" rel="stylesheet" />

    <link rel="stylesheet" href="/frontend/css/index.css" />
    <link rel="stylesheet" href="/frontend/css/publiproducto.css" />

    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js" defer></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js" defer></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js" defer></script>
    <script src="/backend/firebase-config.js" defer></script>
    <script src="/frontend/js/scriptHeader.js" defer></script>
</head>

<body>
    <header>
        <h1>TESCHI-BAZAR</h1>
        <nav>
            <ul>
                <li><a href="index.html">Inicio</a></li>
                <li><a href="#">Acerca de</a></li>
            </ul>
        </nav>

        <div class="notificaciones-container" style="position: relative; display: inline-block;">
            <button id="btnCampana" style="background: none; border: none; cursor: pointer; font-size: 24px;">
                üîî <span id="contadorNotificaciones" style="display: none; 
          position: absolute; 
          top: -5px; 
          right: -5px; 
          background: red; 
          color: white; 
          border-radius: 50%; 
          padding: 2px 6px; 
          font-size: 12px;">0</span>
            </button>

            <div id="menuNotificaciones" style="display: none; 
        position: absolute; 
        right: 0; 
        top: 40px; 
        width: 250px; 
        background: white; 
        border: 1px solid #ccc; 
        box-shadow: 0 4px 8px rgba(0,0,0,0.1); 
        z-index: 1000; border-radius: 8px;">

                <div style="padding: 10px; border-bottom: 1px solid #eee; font-weight: bold;">Notificaciones</div>
                <div id="listaNotificaciones" style="max-height: 300px; overflow-y: auto;">
                    <p style="padding: 10px; font-size: 14px; color: #666;">No tienes notificaciones</p>
                </div>
            </div>
        </div>


        <div id="auth-wrapper">
            <button id="iniciaSesionButton" onclick="window.location.href='login.html'" class="btn-inicio-sesion"
                style="display: none;">
                Iniciar Sesi√≥n
            </button>
            <div id="contenedorPerfilUsuario" style="display: none"></div>
        </div>
    </header>

    <main class="container-form">
        <div class="header-text">
            <h2>Publicar nuevo producto</h2>
            <p>Completa los detalles para que otros estudiantes puedan ver tu art√≠culo.</p>
        </div>

        <form id="formPublicar" class="product-form">
            <div class="form-section">
                <h3><span>üì∏</span> 1. Im√°genes del Producto</h3>
                <div class="multimedia-area" id="clicAreaMultimedia">
                    <div id="contenidoPorDefecto">
                        <div class="icon-upload">‚ûï</div>
                        <p>Haz clic para subir fotos</p>
                        <small>M√°ximo 3 im√°genes (JPG, PNG)</small>
                    </div>
                    <div id="contenedorVistaPrevia" class="preview-grid" style="display: none;"></div>
                    <input type="file" id="imagenes" accept="image/*" multiple style="display: none;" />
                </div>
            </div>

            <div class="form-section">
                <h3><span>üìù</span> 2. Detalles del Art√≠culo</h3>
                <div class="form-group">
                    <label>Nombre del Producto</label>
                    <input type="text" id="nombre_producto" placeholder="Ej: Calculadora cient√≠fica Casio" required />
                </div>

                <div class="form-group">
                    <label>Descripci√≥n</label>
                    <textarea id="descripcion" rows="4"
                        placeholder="Describe el estado, marca o detalles importantes..." required></textarea>
                </div>

                <div class="grid-inputs">
                    <div class="form-group">
                        <label>Categor√≠a</label>
                        <select id="categoria_id">
                            <option value="1">Ropa</option>
                            <option value="2">Maquillaje</option>
                            <option value="3">Accesorios</option>
                            <option value="4">Libros</option>
                            <option value="5">Electr√≥nica</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Estado</label>
                        <select id="estado">
                            <option value="nuevo">Nuevo</option>
                            <option value="detalles">Usado</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label>Unidades Disponibles</label>
                    <input type="number" id="disponibilidad" min="1" value="1" required />
                </div>
            </div>

            <div class="form-section">
                <h3><span>üìç</span> 3. Precio y Entrega</h3>
                <div class="form-group">
                    <label>Precio (MXN)</label>
                    <div class="price-input">
                        <span>$</span>
                        <input type="number" id="precio" placeholder="0" min="1" required />
                    </div>
                </div>

                <div class="form-group">
                    <label>Punto de Entrega (Edificio)</label>
                    <select id="ubicacion_entrega" required>
                        <option value="" disabled selected>Selecciona d√≥nde entregas...</option>
                        <option value="Edificio A">Edificio A</option>
                        <option value="Edificio B">Edificio B</option>
                        <option value="Edificio D">Edificio D</option>
                        <option value="Edificio E">Edificio E</option>
                        <option value="Edificio F">Edificio F</option>
                        <option value="Edificio G">Edificio G</option>
                        <option value="Edificio H">Edificio H</option>
                        <option value="Edificio I">Edificio I</option>
                        <option value="Edificio J">Edificio J</option>
                        <option value="Edificio K">Edificio K</option>
                        <option value="Edificio Q">Edificio Q</option>
                    </select>
                </div>
            </div>

            <div class="action-buttons">
                <button type="submit" id="btnAccionPublicar" class="btn-submit">
                    Listar Producto Ahora
                </button>
            </div>
        </form>
    </main>

    

    <script src="http://localhost:3000/socket.io/socket.io.js"></script>
    <script src="/frontend/js/notificaciones.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="/frontend/js/scriptsubirProducto.js" defer></script>
</body>

</html>