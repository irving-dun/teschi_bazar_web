<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vender Producto - TeschiBazar</title>

    <link href="https://fonts.googleapis.com/css2?family=Anton&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;800&display=swap" rel="stylesheet" />

    <link rel="stylesheet" href="../css/index.css" />
    <link rel="stylesheet" href="../css/notificaciones.css" />
    <link rel="stylesheet" href="../css/publiproducto.css" />

    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js" defer></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js" defer></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js" defer></script>
    <script src="../js/firebase-config.js"defer></script>
    <script src="../js/notificaciones.js"defer></script>
</head>

<body>
    <header>
        <h1>TESCHI-BAZAR</h1>
        <nav>
            <ul>
                <li><a href="index.html">Inicio</a></li>
                <li><a href="#">Acerca de</a></li>
            </ul>
        </nav>

        <div class="notificaciones-wrapper">
            <button id="btnCampana" class="btn-campana">
                üîî <span id="contadorNotificaciones" class="notif-badge">0</span>
            </button>

            <div id="menuNotificaciones" class="notif-menu">
                <div class="notif-header">Notificaciones</div>
                <div id="listaNotificaciones" class="notif-list">
                    <p class="notif-vacia">No tienes notificaciones</p>
                </div>
            </div>
        </div>


        <div id="auth-wrapper">
            <button id="iniciaSesionButton" onclick="window.location.href='login.html'" class="btn-inicio-sesion"
                style="display: none;">
                Iniciar Sesi√≥n
            </button>
            <div id="contenedorPerfilUsuario" style="display: none"></div>
        </div>
    </header>

    <main class="container-form">
        <div class="header-text">
            <h2>Publicar nuevo producto</h2>
            <p>Completa los detalles para que otros estudiantes puedan ver tu art√≠culo.</p>
        </div>

        <form id="formPublicar" class="product-form">
            <div class="form-section">
                <h3><span>üì∏</span> 1. Im√°genes del Producto</h3>
                <div class="multimedia-area" id="clicAreaMultimedia">
                    <div id="contenidoPorDefecto">
                        <div class="icon-upload">‚ûï</div>
                        <p>Haz clic para subir fotos</p>
                        <small>M√°ximo 3 im√°genes (JPG, PNG)</small>
                    </div>
                    <div id="contenedorVistaPrevia" class="preview-grid" style="display: none;"></div>
                    <input type="file" id="imagenes" accept="image/*" multiple style="display: none;" />
                </div>
            </div>

            <div class="form-section">
                <h3><span>üìù</span> 2. Detalles del Art√≠culo</h3>
                <div class="form-group">
                    <label>Nombre del Producto</label>
                    <input type="text" id="nombre_producto" placeholder="Ej: Calculadora cient√≠fica Casio" required />
                </div>

                <div class="form-group">
                    <label>Descripci√≥n</label>
                    <textarea id="descripcion" rows="4"
                        placeholder="Describe el estado, marca o detalles importantes..." required></textarea>
                </div>

                <div class="grid-inputs">
                    <div class="form-group">
                        <label>Categor√≠a</label>
                        <select id="categoria_id">
                            <option value="1">Ropa</option>
                            <option value="2">Maquillaje</option>
                            <option value="3">Accesorios</option>
                            <option value="4">Libros</option>
                            <option value="5">Electr√≥nica</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Estado</label>
                        <select id="estado">
                            <option value="nuevo">Nuevo</option>
                            <option value="usado">Usado</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label>Unidades Disponibles</label>
                    <input type="number" id="disponibilidad" min="1" value="1" required />
                </div>
            </div>

            <div class="form-section">
                <h3><span>üìç</span> 3. Precio y Entrega</h3>
                <div class="form-group">
                    <label>Precio (MXN)</label>
                    <div class="price-input">
                        <span>$</span>
                        <input type="number" id="precio" placeholder="0" min="1" required />
                    </div>
                </div>

                <div class="form-group">
                    <label>Punto de Entrega (Edificio)</label>
                    <select id="ubicacion_entrega" required>
                        <option value="" disabled selected>Selecciona d√≥nde entregas...</option>
                        <option value="Edificio A">Edificio A</option>
                        <option value="Edificio B">Edificio B</option>
                        <option value="Edificio D">Edificio D</option>
                        <option value="Edificio E">Edificio E</option>
                        <option value="Edificio F">Edificio F</option>
                        <option value="Edificio G">Edificio G</option>
                        <option value="Edificio H">Edificio H</option>
                        <option value="Edificio I">Edificio I</option>
                        <option value="Edificio J">Edificio J</option>
                        <option value="Edificio K">Edificio K</option>
                        <option value="Edificio Q">Edificio Q</option>
                    </select>
                </div>
            </div>

            <div class="action-buttons">
                <button type="submit" id="btnAccionPublicar" class="btn-submit">
                    Listar Producto Ahora
                </button>
                <div id="loadingStatus" class="loading-spinner">
                    <p>‚è≥ Subiendo producto al Bazar... por favor espera.</p>
                </div>
            </div>
        </form>
    </main>



    <script src="https://teschi-bazar-web.onrender.com/socket.io/socket.io.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="../js/scriptsubirProducto.js" defer></script>
</body>

</html>